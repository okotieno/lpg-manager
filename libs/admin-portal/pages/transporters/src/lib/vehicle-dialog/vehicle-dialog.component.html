<ion-header class="ion-no-border">
  <ion-toolbar>
    <ion-title class="ion-text-center">
      @if (isEditing()) {
        Edit Vehicle
      } @else {
        Add Vehicle
      }
    </ion-title>
    <ion-buttons slot="end">
      <ion-button color="danger" fill="clear" shape="round" (click)="dismiss()">
        <ion-icon slot="icon-only" name="circle-xmark"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <form [formGroup]="vehicleForm" (ngSubmit)="onSubmit()" id="vehicle-form">
    <ion-item lines="none">
      <ion-input
        label="Registration Number"
        labelPlacement="stacked"
        formControlName="registrationNumber"
        placeholder="Enter registration number"
        errorText="Registration number is required"
      ></ion-input>
    </ion-item>
    <ion-item>
      <ion-select
        label="Vehicle Type"
        labelPlacement="stacked"
        formControlName="type"
        placeholder="--Select vehicle type--"
      >
        <!-- Light Commercial Vehicles -->
        <ion-select-option value="VAN">Van - 1.5T</ion-select-option>
        <ion-select-option value="PICKUP">Pickup Truck - 3.5T</ion-select-option>

        <!-- Medium Duty Trucks -->
        <ion-select-option value="BOX_TRUCK">Box/Cube Truck - 7.5T</ion-select-option>
        <ion-select-option value="REEFER">Refrigerated Truck - 7.5T</ion-select-option>

        <!-- Heavy Duty Trucks -->
        <ion-select-option value="SEMI_TRAILER">Semi-Trailer - 40T</ion-select-option>
        <ion-select-option value="FLATBED">Flatbed Truck - 28T</ion-select-option>
        <ion-select-option value="TANKER">Tanker Truck - 25T</ion-select-option>

        <!-- Specialized Trucks -->
        <ion-select-option value="DUMP_TRUCK">Dump Truck - 30T</ion-select-option>
        <ion-select-option value="CAR_CARRIER">Car Carrier - 22T</ion-select-option>

        <!-- Modern Vehicles -->
        <ion-select-option value="ELECTRIC">Electric Truck - 4.5T</ion-select-option>
      </ion-select>
    </ion-item>
    <ion-item lines="none">
      <ion-input
        type="number"
        label="Capacity"
        labelPlacement="stacked"
        formControlName="capacity"
        placeholder="Enter capacity"
        errorText="Capacity is required"
      ></ion-input>
    </ion-item>


  </form>
</ion-content>


<ion-footer>
  <ion-row class="ion-padding ion-justify-content-end">
    <ion-button
      form="vehicle-form"
      type="submit"
      expand="block"
      class="ion-margin-top"
      [disabled]="!vehicleForm.valid"
    >
      @if (isEditing()) {
        Save
      } @else {
        Add Vehicle
      }
    </ion-button>
  </ion-row>
</ion-footer>
