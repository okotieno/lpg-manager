<ion-header class="ion-no-border">
  <ion-toolbar>
    <ion-row class="ion-margin-start ion-align-items-center" slot="start">
      <ion-text>
        <h1>LPG Manager Apps</h1>
      </ion-text>
    </ion-row>
    <ion-buttons slot="end">
      <ion-button (click)="toggleTheme()">
        <ion-icon [name]="currentThemeIcon()" slot="icon-only"></ion-icon>
      </ion-button>
      <ion-button id="user-dropdown-button">
        <ion-icon name="gear" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content id="main-content" class="ion-padding">
  <ion-grid>
    <ion-row>
      <ion-col size="12" class="ion-margin-bottom">
        <ion-text color="medium">
          <h2>Welcome to LPG Manager</h2>
          <p>Select an application to get started</p>
        </ion-text>
      </ion-col>
    </ion-row>
    
    <ion-row>
      @for (app of apps; track app.name) {
        <ion-col size="12" sizeSm="6" sizeMd="4" sizeXl="3">
          <ion-card class="app-card" (click)="openApp(app.url)">
            <ion-card-content class="ion-text-center">
              <ion-icon [name]="app.icon" [color]="app.color" class="app-icon"></ion-icon>
              <ion-card-header>
                <ion-card-title>{{ app.name }}</ion-card-title>
              </ion-card-header>
              <p class="app-description">{{ app.description }}</p>
            </ion-card-content>
          </ion-card>
        </ion-col>
      }
    </ion-row>
  </ion-grid>
</ion-content>

<!-- User Dropdown -->
<ion-popover trigger="user-dropdown-button" [dismissOnSelect]="true">
  <ng-template>
    <ion-list>
      <ion-item button (click)="goToProfile()">
        <ion-icon name="user-tie" slot="start"></ion-icon>
        <ion-label>Profile</ion-label>
      </ion-item>
      <ion-item button (click)="logout()">
        <ion-icon name="right-from-bracket" slot="start"></ion-icon>
        <ion-label>Logout</ion-label>
      </ion-item>
    </ion-list>
  </ng-template>
</ion-popover>

