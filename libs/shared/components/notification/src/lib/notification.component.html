<ion-button id="notifications-button">
  <ion-icon name="bell" slot="icon-only"></ion-icon>
</ion-button>

<ion-popover trigger="notifications-button">
  <ng-template>
    <ion-list>
      @for (notification of notifications(); track notification?.id) {
        <ion-item [class]="{'notification-item': true, 'unread': !notification.isRead}" button>
          <ion-label>
            <div class="notification-header">
              <span class="notification-title">{{ notification.title }}</span>
              <span class="notification-time">{{ notification.createdAt | date:'short' }}</span>
            </div>
            <p class="notification-description">{{ notification.description }}</p>
          </ion-label>
        </ion-item>
      } @empty {
        <div class="empty-notification">
          <ion-icon name="notifications-off-outline" size="large"></ion-icon>
          <p>No new notifications</p>
        </div>
      }
    </ion-list>
  </ng-template>
</ion-popover>
